{% extends "base.html" %}

{% block title %} predict {% endblock %}

{% block head %}
{{ super()  }}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script language="JavaScript" type="text/javascript" src="http://code.highcharts.com/stock/highstock.js"></script>
		<script language="JavaScript" type="text/javascript" src="http://code.highcharts.com/stock/modules/exporting.js"></script>
		<script language="JavaScript" type="text/javascript" src="http://rawgit.com/laff/technical-indicators/master/technical-indicators.src.js"></script>
		<script>
		$(function() {
//             $.getJSON('{{addr}}', function(data) {
            $.getJSON('http://www.highcharts.com/samples/data/jsonp.php?filename={{par}}-c.json&callback=?', function(data) {
//            $.getJSON('', function(data) {
//            $.getJSON('http://localhost:5000/query/api/v1.0/getjson/tasks/6', function(data) {
            $('#container1').highcharts('StockChart', {

            title : {
                text : 'Simple Moving Average (SMA) of AAPL stock price'
            },

            subtitle: {
                text: 'From may 15, 2006 to May 10, 2013'
            },

            xAxis: {
                type: 'datetime'
            },

            yAxis: {
                title : {
                    text : 'Price'
                }
            },

            tooltip: {
                crosshairs: true,
                shared: true
            },

			rangeSelector : {
				selected : 1
			},

            legend: {
                enabled: true,
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },

            plotOptions: {
                series: {
                    marker: {
                        enabled: false,
                    }
                }
            },

            series : [{
                name: 'AAPL Stock Price',
                type : 'line',
                id: 'primary',
                data : data
            }, {
                name: '15-day SMA',
                linkedTo: 'primary',
                showInLegend: true,
                type: 'trendline',
                algorithm: 'SMA',
                periods: 15
            }, {
                name: '40-day SMA',
                linkedTo: 'primary',
                showInLegend: true,
                type: 'trendline',
                algorithm: 'SMA',
                periods: 40
            }]
        });
    });
});
</script>
{% endblock %}

{% block header %}

<header>
    <div class="nav">
	    <ul>
	    <li class="search_nav"><a href="/">Search</a></li>
	    <li class="predict"><a class="active" href="index">Predict</a></li>
	    <li class="login" style="float:right"><a href="#">Login</a></li>
	    </ul>
    </div>
</header>
{% endblock %}

{% block graph %}

<section class = "graph">
    <div id = "container1" class="container1"></div>
</section>

{% endblock %}
